language: java
cache:
  directories:
  - $HOME/.m2
jdk:
- oraclejdk8
before_script:
- GOAL=verify
- if [ "${TRAVIS_BRANCH}" = "release" ] && [ "${TRAVIS_PULL_REQUEST}" = "false" ]; then GOAL="release:prepare release:perform"; git checkout release; fi;
script:
- mvn -B -Dusername=$GH_TOKEN clean $GOAL